{"version":3,"file":"index.js","sourceRoot":"./src/","sources":["index.ts"],"names":[],"mappings":"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","sourcesContent":["import { Command } from './@types/Util.js';\nimport { Client, Intents, Collection, Message, MessageEmbed } from 'discord.js';\n\nimport fs from 'fs';\nimport util from 'util';\nimport * as utils from './utils.js';\n\nimport dotenv from 'dotenv';\ndotenv.config();\n\nconst intents = new Intents();\nintents.add('GUILD_MESSAGES', 'GUILDS', 'GUILD_MEMBERS', 'GUILD_PRESENCES', 'GUILD_VOICE_STATES');\nconst client = new Client({ intents: intents });\n\nclient.commands = new Collection();\n\n// Events\nclient.on('ready', async () => {\n    console.log('Client ready to rumble!');\n    console.log('Reminder: GuildMember has to be changed soon to InteractionMember');\n\n    const commandFiles = fs.readdirSync('./dist/commands/').filter(file => file.endsWith('.js'));\n    for (const file of commandFiles) {\n        const command: Command = await import(`./commands/${file}`);\n        client.commands.set(command.name, command);\n    }\n});\n\nclient.on('message', (message) => {\n    // Check for \"release\"\n    if (message.channel.id == '767708787967918081') return checkMessage(message);\n    // Eval\n    if (message.author.id == '211888560662511617' && message.content.startsWith('?')) {\n        const args = message.content.slice(1).replace(/[ \\r\\n|\\r|\\n]/gi, ' ').trim().split(' ');\n        const command = args.shift()?.toLowerCase() || '';\n\n        if (command == 'eval') {\n            const code = args.join(' ');\n\n            const embed = new MessageEmbed().setTitle('**Eval**');\n            embed.addField('Input', '```' + code + '```'); \n\n            try {\n                let evaled = eval(code);\n                if (typeof evaled !== 'string') {\n                    evaled = util.inspect(evaled);\n                }\n                embed.addField('Output', '```' + utils.clean(evaled) + '```');\n            } catch (err) {\n                embed.addField('Error', `\\`\\`\\`${utils.clean(err.toString())}\\`\\`\\``);\n            }\n\n            message.channel.send(embed);\n        }\n    }\n});\n\nclient.on('interaction', async (interaction) => {\n    if (!interaction.isCommand()) return;\n\n    const today = new Date();\n    const aprilFools = new Date('04-01-2021');\n    if (today.getDate() == aprilFools.getDate() && today.getMonth() == aprilFools.getMonth()) {\n        interaction.reply('https://giphy.com/gifs/rickroll-rick-astley-never-gonna-give-you-up-Vuw9m5wXviFIQ');\n    } else if (client.commands.has(interaction.commandName)) {\n        try {\n            const command = client.commands.get(interaction.commandName);\n            if (!command) return console.log('No command found.');\n\n            if (!interaction.guildID) return interaction.reply('Hell no!', { ephemeral: true });\n\n            interaction.defer(command.hidden ? true : false);\n            await command.execute(client, interaction);\n        } catch (error) {\n            console.error(error);\n        }\n    }\n});\n\nconst checkMessage = (message: Message) => {\n    if (message.content.includes('?') && message.content.includes('release')) {\n        message.reply('All new information about the CS VR release can be found in <#587658747220983817>.');\n    }\n};\n\n// Login\nclient.login();"]}