{"version":3,"file":"ban.js","sourceRoot":"./src/","sources":["commands/ban.ts"],"names":[],"mappings":"AAGA,OAAO,EAAE,eAAe,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AAE1D,MAAM,CAAC,MAAM,IAAI,GAAoB,KAAK,CAAC;AAE3C,MAAM,CAAC,MAAM,MAAM,GAAsB;IACrC,IAAI,EAAE,KAAK;IACX,WAAW,EAAE,uCAAuC;IACpD,OAAO,EAAE;QACL;YACI,IAAI,EAAE,MAAM;YACZ,WAAW,EAAE,+BAA+B;YAC5C,IAAI,EAAE,MAAM;YACZ,QAAQ,EAAE,IAAI;SACjB;QACD;YACI,IAAI,EAAE,QAAQ;YACd,WAAW,EAAE,wBAAwB;YACrC,IAAI,EAAE,QAAQ;SACjB;KACJ;CACJ,CAAC;AAEF,MAAM,CAAC,MAAM,OAAO,GAAuB,KAAK,EAAE,MAAc,EAAE,WAA+B,EAAiB,EAAE;IAChH,8BAA8B;IAC9B,MAAM,QAAQ,GAAgB,WAAW,CAAC,MAAqB,CAAC;IAChE,MAAM,MAAM,GAAgB,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,MAAM,CAAC,EAAE,MAAqB,CAAC;IACnG,MAAM,MAAM,GAAW,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,QAAQ,CAAC,EAAE,KAAe,CAAC,CAAC,CAAC,EAAE,CAAC;IAEnJ,iDAAiD;IACjD,IAAI,CAAC,QAAQ,IAAI,CAAC,MAAM;QAAE,OAAQ,WAAW,CAAC,SAAS,CAAC,uBAAuB,CAAqB,CAAC;IAErG,iCAAiC;IACjC,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,aAAa,CAAC;QAAE,OAAQ,WAAW,CAAC,SAAS,CAAC,2DAA2D,CAAqB,CAAC;IAC9J,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC;QAAE,OAAQ,WAAW,CAAC,SAAS,CAAC,8DAA8D,CAAqB,CAAC;IAEjL,MAAM,MAAM,GAAuB,MAAM,MAAM,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC;IACnG,IAAI,MAAM,EAAE;QACR,UAAU;QACV,OAAQ,WAAW,CAAC,SAAS,CAAC,6BAA6B,CAAqB,CAAC;KACpF;SAAM;QACH,aAAa;QACb,OAAQ,WAAW,CAAC,SAAS,CAAC,uBAAuB,CAAqB,CAAC;KAC9E;AACL,CAAC,CAAC","sourcesContent":["import { Client, CommandInteraction, GuildMember } from 'discord.js';\nimport { Command } from 'src/@types/Util.js';\n\nimport { checkPermission, higherRole } from '../utils.js';\n\nexport const name: Command['name'] = 'ban';\n\nexport const create: Command['create'] = {\n    name: 'ban',\n    description: 'Bans a user! | Requires [BAN_MEMBERS]',\n    options: [\n        {\n            name: 'user',\n            description: 'The user who should be banned',\n            type: 'USER',\n            required: true\n        },\n        {\n            name: 'reason',\n            description: 'The reason for the ban',\n            type: 'STRING'\n        }\n    ]\n};\n\nexport const execute: Command['execute'] = async (client: Client, interaction: CommandInteraction): Promise<void> => {\n    // Grab important informations\n    const executor: GuildMember = interaction.member as GuildMember;\n    const target: GuildMember = interaction.options.find(o => o.name == 'user')?.member as GuildMember;\n    const reason: string = interaction.options.find(o => o.name == 'reason') ? interaction.options.find(o => o.name == 'reason')?.value as string : '';\n\n    // Return error if executor or target are invalid\n    if (!executor || !target) return (interaction.editReply('Something went wrong!') as unknown) as void;\n\n    // Check if permissions are valid\n    if (!checkPermission(executor, 'BAN_MEMBERS')) return (interaction.editReply('You do not have the required permissions to ban a member.') as unknown) as void;\n    if (!higherRole(executor.roles.highest, target.roles.highest)) return (interaction.editReply('You do not have the required permissions to ban this member.') as unknown) as void;\n\n    const banned: GuildMember | null = await target.ban({ days: 7, reason: reason }).catch(() => null);\n    if (banned) {\n        // Success\n        return (interaction.editReply('Member successfully banned!') as unknown) as void;\n    } else {\n        // No Success\n        return (interaction.editReply('Something went wrong!') as unknown) as void;\n    }\n};"]}